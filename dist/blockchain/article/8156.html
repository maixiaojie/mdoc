<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深入浅出区块链</title>
    <meta name="description" content="Deep and shallow block chain">
    <link rel="icon" href="/blockchain/logo.png">
    
    <link rel="preload" href="/blockchain/assets/css/0.styles.2c703f0d.css" as="style"><link rel="preload" href="/blockchain/assets/js/app.72b4d1ed.js" as="script"><link rel="preload" href="/blockchain/assets/js/33.1550336b.js" as="script"><link rel="prefetch" href="/blockchain/assets/js/10.454fe216.js"><link rel="prefetch" href="/blockchain/assets/js/11.5ba21604.js"><link rel="prefetch" href="/blockchain/assets/js/12.4a5a113b.js"><link rel="prefetch" href="/blockchain/assets/js/13.b611af88.js"><link rel="prefetch" href="/blockchain/assets/js/14.33e1f7bc.js"><link rel="prefetch" href="/blockchain/assets/js/15.47fd7d30.js"><link rel="prefetch" href="/blockchain/assets/js/16.0250db2f.js"><link rel="prefetch" href="/blockchain/assets/js/17.6fd33ced.js"><link rel="prefetch" href="/blockchain/assets/js/18.5ce87eba.js"><link rel="prefetch" href="/blockchain/assets/js/19.80e4c590.js"><link rel="prefetch" href="/blockchain/assets/js/2.d2d3b164.js"><link rel="prefetch" href="/blockchain/assets/js/20.87e36611.js"><link rel="prefetch" href="/blockchain/assets/js/21.6ad1531c.js"><link rel="prefetch" href="/blockchain/assets/js/22.4f91fe62.js"><link rel="prefetch" href="/blockchain/assets/js/23.a5446f8a.js"><link rel="prefetch" href="/blockchain/assets/js/24.4d34c70c.js"><link rel="prefetch" href="/blockchain/assets/js/25.1b5ebd7e.js"><link rel="prefetch" href="/blockchain/assets/js/26.407c899e.js"><link rel="prefetch" href="/blockchain/assets/js/27.74c061a6.js"><link rel="prefetch" href="/blockchain/assets/js/28.4f8ed041.js"><link rel="prefetch" href="/blockchain/assets/js/29.4f090c2b.js"><link rel="prefetch" href="/blockchain/assets/js/3.e78a6d66.js"><link rel="prefetch" href="/blockchain/assets/js/30.e0ba5a91.js"><link rel="prefetch" href="/blockchain/assets/js/31.45166a85.js"><link rel="prefetch" href="/blockchain/assets/js/32.89d11589.js"><link rel="prefetch" href="/blockchain/assets/js/34.f53ac421.js"><link rel="prefetch" href="/blockchain/assets/js/35.c49cd088.js"><link rel="prefetch" href="/blockchain/assets/js/36.074edbd0.js"><link rel="prefetch" href="/blockchain/assets/js/37.1d826f5c.js"><link rel="prefetch" href="/blockchain/assets/js/38.3f7364a3.js"><link rel="prefetch" href="/blockchain/assets/js/39.c01b62e2.js"><link rel="prefetch" href="/blockchain/assets/js/4.274a3b83.js"><link rel="prefetch" href="/blockchain/assets/js/40.83a965dd.js"><link rel="prefetch" href="/blockchain/assets/js/41.ed374e70.js"><link rel="prefetch" href="/blockchain/assets/js/42.61b9c98b.js"><link rel="prefetch" href="/blockchain/assets/js/43.49db281a.js"><link rel="prefetch" href="/blockchain/assets/js/5.7dd43a6e.js"><link rel="prefetch" href="/blockchain/assets/js/6.d02d6749.js"><link rel="prefetch" href="/blockchain/assets/js/7.cc2834ff.js"><link rel="prefetch" href="/blockchain/assets/js/8.d5c30aac.js"><link rel="prefetch" href="/blockchain/assets/js/9.d20d8fb4.js">
    <link rel="stylesheet" href="/blockchain/assets/css/0.styles.2c703f0d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blockchain/" class="home-link router-link-active"><!----> <span class="site-name">深入浅出区块链</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blockchain/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他专栏</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重学前端
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/ds/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  数据结构与算法之美
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/jvm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入拆解 Java 虚拟机
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/netprotocol/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  趣谈网络协议
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/air/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  左耳听风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webyck/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webinter/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 前端面试指南与高频考题解析
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/chrome/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  你不知道的 Chrome 调试技巧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/canvas/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何使用 Canvas 制作出炫酷的网页背景特效
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blockchain/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他专栏</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重学前端
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/ds/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  数据结构与算法之美
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/jvm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入拆解 Java 虚拟机
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/netprotocol/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  趣谈网络协议
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/air/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  左耳听风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webyck/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webinter/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 前端面试指南与高频考题解析
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/chrome/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  你不知道的 Chrome 调试技巧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/canvas/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何使用 Canvas 制作出炫酷的网页背景特效
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blockchain/article/4906.html" class="sidebar-link">开篇词 | 帮你从0到1深入学习区块链技术</a></li><li><a href="/blockchain/article/4969.html" class="sidebar-link">第1讲 | 到底什么才是区块链？</a></li><li><a href="/blockchain/article/4978.html" class="sidebar-link">第2讲 | 区块链到底是怎么运行的？</a></li><li><a href="/blockchain/article/5025.html" class="sidebar-link">第3讲 | 浅说区块链共识机制</a></li><li><a href="/blockchain/article/5220.html" class="sidebar-link">第4讲 | 区块链的应用类型</a></li><li><a href="/blockchain/article/5225.html" class="sidebar-link">第5讲 | 如何理解数字货币？它与区块链又是什么样的关系？</a></li><li><a href="/blockchain/article/5353.html" class="sidebar-link">第6讲 | 理解区块链之前，先上手体验一把数字货币</a></li><li><a href="/blockchain/article/5550.html" class="sidebar-link">第7讲 | 区块链的常见误区</a></li><li><a href="/blockchain/article/5601.html" class="sidebar-link">第9讲 | 深入区块链技术（一）：技术基础</a></li><li><a href="/blockchain/article/5642.html" class="sidebar-link">第8讲 | 最主流区块链项目有哪些？</a></li><li><a href="/blockchain/article/5954.html" class="sidebar-link">第10讲 | 深入区块链技术（二）：P2P网络</a></li><li><a href="/blockchain/article/5956.html" class="sidebar-link">第11讲 | 深入区块链技术（三）：共识算法与分布式一致性算法</a></li><li><a href="/blockchain/article/5963.html" class="sidebar-link">第12讲 | 深入区块链技术（四）：PoW共识</a></li><li><a href="/blockchain/article/6207.html" class="sidebar-link">第13讲 | 深入区块链技术（五）：PoS共识机制</a></li><li><a href="/blockchain/article/6224.html" class="sidebar-link">第15讲 | 深入区块链技术（七）：哈希与加密算法</a></li><li><a href="/blockchain/article/6273.html" class="sidebar-link">第14讲 | 深入区块链技术（六）：DPoS共识机制</a></li><li><a href="/blockchain/article/6511.html" class="sidebar-link">第16讲 | 深入区块链技术（八）： UTXO与普通账户模型</a></li><li><a href="/blockchain/article/6515.html" class="sidebar-link">第17讲 |  去中心化与区块链交易性能</a></li><li><a href="/blockchain/article/6519.html" class="sidebar-link">第18讲 | 智能合约与以太坊</a></li><li><a href="/blockchain/article/6831.html" class="sidebar-link">第19讲 | 上手搭建一条自己的智能合约</a></li><li><a href="/blockchain/article/6834.html" class="sidebar-link">第20讲 | 区块链项目详解：比特股BTS</a></li><li><a href="/blockchain/article/6838.html" class="sidebar-link">第21讲 | 引人瞩目的区块链项目：EOS、IOTA、Cardano</a></li><li><a href="/blockchain/article/7265.html" class="sidebar-link">第22讲 | 国内区块链项目技术一览</a></li><li><a href="/blockchain/article/7270.html" class="sidebar-link">第23讲 | 联盟链和它的困境</a></li><li><a href="/blockchain/article/7276.html" class="sidebar-link">第24讲 | 比特币专题（一）历史与货币</a></li><li><a href="/blockchain/article/7690.html" class="sidebar-link">第25讲 | 比特币专题（二）：扩容之争、IFO与链上治理</a></li><li><a href="/blockchain/article/7694.html" class="sidebar-link">第26讲 | 数字货币和数字资产</a></li><li><a href="/blockchain/article/7699.html" class="sidebar-link">第27讲 | 弄懂数字货币交易平台（一）</a></li><li><a href="/blockchain/article/8156.html" class="active sidebar-link">第28讲 | 弄懂数字货币交易平台（二）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blockchain/article/8156.html#两套账本" class="sidebar-link">两套账本</a></li><li class="sidebar-sub-header"><a href="/blockchain/article/8156.html#数字货币交易所包含哪些系统模块" class="sidebar-link">数字货币交易所包含哪些系统模块</a></li><li class="sidebar-sub-header"><a href="/blockchain/article/8156.html#各自模块的特征" class="sidebar-link">各自模块的特征</a></li><li class="sidebar-sub-header"><a href="/blockchain/article/8156.html#涉及的技术栈" class="sidebar-link">涉及的技术栈</a></li><li class="sidebar-sub-header"><a href="/blockchain/article/8156.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/blockchain/article/8158.html" class="sidebar-link">第29讲 | 互联网身份与区块链数字身份</a></li><li><a href="/blockchain/article/8173.html" class="sidebar-link">第30讲 | 区块链即服务BaaS</a></li><li><a href="/blockchain/article/8502.html" class="sidebar-link">第31讲 | 数字货币钱包服务</a></li><li><a href="/blockchain/article/8515.html" class="sidebar-link">第32讲 | 区块链与供应链（一）</a></li><li><a href="/blockchain/article/8519.html" class="sidebar-link">第33讲 | 区块链与供应链（二）</a></li><li><a href="/blockchain/article/8968.html" class="sidebar-link">第34讲 | 从业区块链需要了解什么？</a></li><li><a href="/blockchain/article/8988.html" class="sidebar-link">第35讲 | 搭建你的迷你区块链（设计篇 ）</a></li><li><a href="/blockchain/article/9273.html" class="sidebar-link">第36讲 | 搭建你的迷你区块链（实践篇）</a></li><li><a href="/blockchain/article/9344.html" class="sidebar-link">尾声篇 | 授人以鱼，不如授人以渔</a></li><li><a href="/blockchain/article/42528.html" class="sidebar-link">新书首发 |《区块链第一课：深入浅出技术与应用》</a></li></ul> </div> <div class="page"> <div class="content"><p>在上一篇文章中，我们介绍了数字货币交易平台的概念，那么今天我们就来重点聊聊数字货币交易平台的技术。如果你有过设计或实现传统金融交易系统的经验，那么你阅读本篇就会更加容易。</p> <p>由于中心化交易所是主流应用，所以今天我主要介绍的是中心化模式下的数字货币交易平台。</p> <h2 id="两套账本"><a href="#两套账本" aria-hidden="true" class="header-anchor">#</a> 两套账本</h2> <p>数字货币交易平台的技术基本沿用了金融交易技术中的系统架构，只是把原来针对法币和证券（或平台代币）的部分，也就是我们通常称作资金管理系统的部分，完全替换为针对数字货币的数字货币管理系统，换句话说，就是换了一套内部账本。</p> <p>然而我们知道，区块链本身也是用来记账的，也算作一种金融账本，所以一套内部账本，一套区块链本身的账本，这里就出现了两套账本，如何管理这两套账本，就是资金管理系统的首要任务。</p> <p>如下图所示。由于中文语境下的交易有多重含义，本篇会用英文单词标注，以示区别。</p> <p><img src="https://static001.geekbang.org/resource/image/52/30/5284d1e0e7a083a428d66a80bfe21130.png" alt></p> <p>(图示 数字货币交易所)</p> <p>解释一下这张图，图的左边表示了多个区块链账本，右边的数字货币交易所有自己的内部账本，这两套账本是独立的。</p> <p>交易所内部的账本记录的是交易Trade，这个交易是由用户挂单，接着被撮合引擎撮合成交而产生的，而区块链账本上的交易Transaction，是当且仅当用户发起充币提币请求并被执行时，才会产生的。</p> <p>这两种交易都用了中文“交易”来表示，但是它们所属的语境不同，前者的交易表示的是金融交易语境下的资产交换，也就是Deal；后者表示的是区块链上的技术概念，表示资产转移的一次记账过程，上述特意用英文以表区别，希望你能够区分。</p> <h2 id="数字货币交易所包含哪些系统模块"><a href="#数字货币交易所包含哪些系统模块" aria-hidden="true" class="header-anchor">#</a> 数字货币交易所包含哪些系统模块</h2> <p>一个数字货币交易所的后端其实至少有四部分构成：Web业务逻辑系统、交易撮合系统、运营后台管理系统、资金管理系统。资金管理系统其实就是刚才说到的内部账本。</p> <p><img src="https://static001.geekbang.org/resource/image/72/1e/72757f34896eee3d48217d10f2ff691e.png" alt></p> <ol><li>Web业务逻辑系统：这个模块通常包含了用户账户模块、登录网关、账户安全管理、KYC认证、行情推送等等，这个模块更偏向用户，也与通常的电商账户系统十分类似。</li> <li>交易撮合系统：这个模块是一个交易所的核心模块，为所有的用户提供订单撮合。</li> <li>运营后台管理：这个模块是一个交易所运营人员使用的系统，交易所内部人员才能访问。</li> <li>资金管理系统：这里的资金管理其实包含了三部分，第一部分是法币的支付网关，可能需要对接银行或第三方支付机构；第二部分就是数字货币钱包管理，它提供了大部分主流数字货币的支付功能；第三部分是用户持仓信息，所谓持仓就是用户持有多少数字货币，这个是记录在数据库中的，不需要与区块链保持一致，但是要求交易所的总账是平的。</li></ol> <h2 id="各自模块的特征"><a href="#各自模块的特征" aria-hidden="true" class="header-anchor">#</a> 各自模块的特征</h2> <ul><li><p>Web业务系统与我们常见的电商系统无异，主要是用户账户以及简单的业务逻辑，重点是可扩展性，业务要求比较弹性。</p></li> <li><p>交易撮合系统本质上是一个高并发的计算系统，特点是系统性能高和稳定性好，其中订单队列可以是编程语言中的数据容器，也可以是内存数据库。</p></li> <li><p>运营后台系统在整个交易所生命周期的早期并不凸显重要性，但是运营后台系统恰恰是交易所中后期发展的核心系统，重点在数据准确，要求网络安全性高和可扩展性好。</p></li> <li><p>资金管理系统包含用户持仓状态，以及数字货币钱包服务，它是一个交易平台中安全性要求最高的系统，资金管理系统往往要搭配一个内存数据库，其中数字货币钱包服务也可以拆出来做成独立子系统，甚至可以改造成整个公司的内部区块浏览器，因为钱包服务需要设计成多个钱包实例，并统一所有的币种钱包接口。</p></li></ul> <p>一个交易所可能的结构如下图。</p> <p><img src="https://static001.geekbang.org/resource/image/88/36/884cf4b894ed12569368b14884121536.png" alt></p> <p>上图中，MatchingGroup相当于是交易撮合系统；Web-Group相当于Web业务逻辑系统；Back-office相当于后台管理系统；AssetsManagement相当于是资金管理系统。</p> <h2 id="涉及的技术栈"><a href="#涉及的技术栈" aria-hidden="true" class="header-anchor">#</a> 涉及的技术栈</h2> <p>如果我们再将刚才提到的各个模块细分，会看到以下的功能。</p> <p><img src="https://static001.geekbang.org/resource/image/09/45/091a6e76d5545cf23a298513f6dd9c45.png" alt></p> <p>（图片来自网络）</p> <p>按照上图的细分功能，我们可以得到哪些技术支持一目了然。</p> <p>首先是Server需要数据库作为支撑，其次是Restful API作为基础通讯协议，并且集成钱包相关的技术，撮合引擎为Sever提供撮合服务。</p> <p>在这里面，例如需要SMS系统，所以可以使用云服务中的SMS组件，这些都可以是成熟的通用组件技术。我们可以发现中心化交易使用的技术与互联网技术并无不同。</p> <p>把这些通用组件塞到下图中各个层次和大模块当中，所以最终一个交易所的详细架构可能是下图的样子。</p> <p><img src="https://static001.geekbang.org/resource/image/4c/a8/4c7d413b29faa1fefbf2858bc00b6ea8.png" alt></p> <p>（图片来自网络，缺失了资金管理部分）</p> <p>我们来解释一下这张图。</p> <p>首先是存储，持久存储通常可以选择MySQL，撮合相关的模块由于要避免接触磁盘IO，所以需要为撮合模块提供Redis类型的内存存储，二者需要保证最终一致性。</p> <p>撮合和行情部分，几乎与传统技术无异，行情推送可以类比到其他推送系统，只是频率更高，一般首选Websocket技术。</p> <p>这与传统互联网应用的最大区别里主要是数字货币钱包管理，这块完全是新的内容，对安全性、易用性提出了相当高难度的挑战，这里也是交易所资金托管的根本，所以如何管理好大量数字货币，往往要结合运营、内部管理制度、冷热钱包技术一起才能做好交易所的资金管理。</p> <p>那么用户是如何挂单的，又是如何产生区块链交易的呢？我们来看一看。</p> <p>##交易过程</p> <p>那么说，用户A拿0.01BTC 换取了B的10个ETP 的过程究竟是什么样的呢，我来举一个例子。</p> <ol><li><p>用户A挂10ETP买单，出价0.01BTC经过Web业务系统进入撮合系统订单簿ETP-BTC买单队列，等待撮合成交，同时资金管理系统冻结0.01BTC。</p></li> <li><p>用户B挂10ETP卖单，出价0.01BTC经过Web业务系统进入撮合系统订单簿ETP-BTC卖单队列，与步骤1中A的订单撮合匹配成功，生成Trade，同时资金管理系统结算对应资产，B的资产变化为增加0.01BTC并减少10ETP， A增加10ETP并减少0.01BTC。</p></li> <li><p>成交Trade以及资产变化通过资金管理系统写RDB数据库，形成成交记录，同时更新行情，数据库记录可供用户和运营后台管理系统查询。 要注意的是这一步并不是登记到区块链上。</p></li> <li><p>用户B经过Web业务系统发起提币请求，请求提取10ETP进入自己的数字货币钱包，这个请求进入资金管理系统，交易所运营人员可通过运营后台观察到这笔请求，运营人员审核用户B的信息，比如实名认证是否正常等。</p></li> <li><p>提币请求进入运营系统后，如果通过审核，则资金管理系统会冻结用户B的10ETP，同时将提币请求发起给数字货币钱包服务系统，也就是WalletGroup，子系统发起区块链上的交易x（Transaction）,等待交易被打包，并根据更新提币审核状态，供用户查看。</p></li> <li><p>数字货币钱包服务根据区块信息查询交易x是否被打包，如果已经打包，则资金管理系统将完全把用户B被冻结的10ETP直接抹成0，更新提币状态最终为完成，提供区块交易ID以供用户和运营后台系统进行查询。</p></li></ol> <p>在步骤3中，我们可以看到用户所持有的资产，相当于是交易所对用户的负债，但这也只是数据库中的一个数字，并不是真正的链上资产。</p> <p>在步骤6中，我们看到区块链上的“交易”与步骤3中的“交易”完全不是一个概念，同时用户的资产是否安全，完全取决于交易平台的技术是否安全，对交易所是否信任。</p> <p>再来看看充值阶段。</p> <p>简单来说，充值是与提币相反的过程，不同的是，充值不需要审核，一般数字货币交易所的原则都是“宽进严出”，在充值过程中，交易平台通常不直接使用数字货币钱包检测用户是否充值到账，而是使用“扫块”(block_scan)这一方法检测用户的充值。</p> <h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <p>今天我简单介绍了数字货币交易所的业务逻辑，相信你已经对数字货币交易所有了一个初步的了解，数字货币交易所是区块链行业最重要的业务，全世界每个月都有新的数字货币交易所诞生。</p> <p>今天我只讲了中心化的数字货币交易所，而去中心化的交易所，除去资金管理系统，基本业务逻辑是不变的。所以今天的问题是，去中心化交易系统应该如何设计呢，主要会遇到哪些挑战？欢迎留言，我们一起讨论。</p> <p><img src="https://static001.geekbang.org/resource/image/25/b7/25d35548526eefde68b5490cf13f83b7.jpg" alt></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blockchain/article/7699.html" class="prev">
          第27讲 | 弄懂数字货币交易平台（一）
        </a></span> <span class="next"><a href="/blockchain/article/8158.html">
          第29讲 | 互联网身份与区块链数字身份
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/blockchain/assets/js/app.72b4d1ed.js" defer></script><script src="/blockchain/assets/js/33.1550336b.js" defer></script>
  </body>
</html>
