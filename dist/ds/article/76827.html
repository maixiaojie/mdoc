<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据结构与算法之美</title>
    <meta name="description" content="Beauty of Data Structure and Algorithms">
    <link rel="icon" href="/ds/logo.png">
    
    <link rel="preload" href="/ds/assets/css/0.styles.6f2bf59f.css" as="style"><link rel="preload" href="/ds/assets/js/app.c5f0fffe.js" as="script"><link rel="preload" href="/ds/assets/js/54.34582ef6.js" as="script"><link rel="prefetch" href="/ds/assets/js/10.87a46e06.js"><link rel="prefetch" href="/ds/assets/js/11.863c9467.js"><link rel="prefetch" href="/ds/assets/js/12.45cf172d.js"><link rel="prefetch" href="/ds/assets/js/13.4f74a88c.js"><link rel="prefetch" href="/ds/assets/js/14.955f5ed0.js"><link rel="prefetch" href="/ds/assets/js/15.6cf180b3.js"><link rel="prefetch" href="/ds/assets/js/16.9b6a73d1.js"><link rel="prefetch" href="/ds/assets/js/17.920f0a59.js"><link rel="prefetch" href="/ds/assets/js/18.bebe1e33.js"><link rel="prefetch" href="/ds/assets/js/19.73ce59cd.js"><link rel="prefetch" href="/ds/assets/js/2.89a990db.js"><link rel="prefetch" href="/ds/assets/js/20.26fa62d7.js"><link rel="prefetch" href="/ds/assets/js/21.6e787b4d.js"><link rel="prefetch" href="/ds/assets/js/22.523f245c.js"><link rel="prefetch" href="/ds/assets/js/23.f60a365d.js"><link rel="prefetch" href="/ds/assets/js/24.62b20af7.js"><link rel="prefetch" href="/ds/assets/js/25.211db923.js"><link rel="prefetch" href="/ds/assets/js/26.8c0c1646.js"><link rel="prefetch" href="/ds/assets/js/27.ba0f15ed.js"><link rel="prefetch" href="/ds/assets/js/28.a7849be3.js"><link rel="prefetch" href="/ds/assets/js/29.bcfd75e8.js"><link rel="prefetch" href="/ds/assets/js/3.2fe2a9a2.js"><link rel="prefetch" href="/ds/assets/js/30.bc5af49e.js"><link rel="prefetch" href="/ds/assets/js/31.73fd1e95.js"><link rel="prefetch" href="/ds/assets/js/32.0190991f.js"><link rel="prefetch" href="/ds/assets/js/33.a348bebe.js"><link rel="prefetch" href="/ds/assets/js/34.32412560.js"><link rel="prefetch" href="/ds/assets/js/35.9b001b50.js"><link rel="prefetch" href="/ds/assets/js/36.bee7894d.js"><link rel="prefetch" href="/ds/assets/js/37.3b9917e6.js"><link rel="prefetch" href="/ds/assets/js/38.b5f0a36a.js"><link rel="prefetch" href="/ds/assets/js/39.8a857b65.js"><link rel="prefetch" href="/ds/assets/js/4.d0432c07.js"><link rel="prefetch" href="/ds/assets/js/40.71c08462.js"><link rel="prefetch" href="/ds/assets/js/41.64c753e9.js"><link rel="prefetch" href="/ds/assets/js/42.8c89f65a.js"><link rel="prefetch" href="/ds/assets/js/43.50e1bc84.js"><link rel="prefetch" href="/ds/assets/js/44.91a8a32c.js"><link rel="prefetch" href="/ds/assets/js/45.14ad9302.js"><link rel="prefetch" href="/ds/assets/js/46.ffea4b8a.js"><link rel="prefetch" href="/ds/assets/js/47.77089a3e.js"><link rel="prefetch" href="/ds/assets/js/48.bd64af6b.js"><link rel="prefetch" href="/ds/assets/js/49.76fddb95.js"><link rel="prefetch" href="/ds/assets/js/5.5fd708a4.js"><link rel="prefetch" href="/ds/assets/js/50.82103b4b.js"><link rel="prefetch" href="/ds/assets/js/51.6dca3671.js"><link rel="prefetch" href="/ds/assets/js/52.fe3f38dd.js"><link rel="prefetch" href="/ds/assets/js/53.42b3a8ef.js"><link rel="prefetch" href="/ds/assets/js/55.a8ea031c.js"><link rel="prefetch" href="/ds/assets/js/56.15762bb5.js"><link rel="prefetch" href="/ds/assets/js/57.6c574286.js"><link rel="prefetch" href="/ds/assets/js/58.7c2ccda9.js"><link rel="prefetch" href="/ds/assets/js/6.b7474919.js"><link rel="prefetch" href="/ds/assets/js/7.cf1ac982.js"><link rel="prefetch" href="/ds/assets/js/8.baa7324a.js"><link rel="prefetch" href="/ds/assets/js/9.c49da0d1.js">
    <link rel="stylesheet" href="/ds/assets/css/0.styles.6f2bf59f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ds/" class="home-link router-link-active"><!----> <span class="site-name">数据结构与算法之美</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ds/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他专栏</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重学前端
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/jvm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入拆解 Java 虚拟机
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/netprotocol/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  趣谈网络协议
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/air/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  左耳听风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/blockchain/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入浅出区块链
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webyck/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webinter/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 前端面试指南与高频考题解析
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/chrome/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  你不知道的 Chrome 调试技巧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/canvas/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何使用 Canvas 制作出炫酷的网页背景特效
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/mysql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL实战45讲
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ds/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他专栏</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重学前端
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/jvm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入拆解 Java 虚拟机
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/netprotocol/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  趣谈网络协议
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/air/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  左耳听风
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/blockchain/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入浅出区块链
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webyck/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/webinter/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 前端面试指南与高频考题解析
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/chrome/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  你不知道的 Chrome 调试技巧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/canvas/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  如何使用 Canvas 制作出炫酷的网页背景特效
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://doc.mcust.cn/mysql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MySQL实战45讲
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ds/article/39922.html" class="sidebar-link">开篇词 | 从今天起，跨过“数据结构与算法”这道坎</a></li><li><a href="/ds/article/39972.html" class="sidebar-link">01 | 为什么要学习数据结构和算法？</a></li><li><a href="/ds/article/40011.html" class="sidebar-link">02 | 如何抓住重点，系统高效地学习数据结构与算法？</a></li><li><a href="/ds/article/40036.html" class="sidebar-link">03 | 复杂度分析（上）：如何分析、统计算法的执行效率和资源消耗？</a></li><li><a href="/ds/article/40447.html" class="sidebar-link">04 | 复杂度分析（下）：浅析最好、最坏、平均、均摊时间复杂度</a></li><li><a href="/ds/article/40681.html" class="sidebar-link">不定期福利第一期 | 数据结构与算法学习书单</a></li><li><a href="/ds/article/40961.html" class="sidebar-link">05 | 数组：为什么很多编程语言中数组都从0开始编号？</a></li><li><a href="/ds/article/41013.html" class="sidebar-link">06 | 链表（上）：如何实现LRU缓存淘汰算法?</a></li><li><a href="/ds/article/41149.html" class="sidebar-link">07 | 链表（下）：如何轻松写出正确的链表代码？</a></li><li><a href="/ds/article/41222.html" class="sidebar-link">08 | 栈：如何实现浏览器的前进和后退功能？</a></li><li><a href="/ds/article/41330.html" class="sidebar-link">09 | 队列：队列在线程池等有限资源池中的应用</a></li><li><a href="/ds/article/41440.html" class="sidebar-link">10 |  递归：如何用三行代码找到“最终推荐人”？</a></li><li><a href="/ds/article/41802.html" class="sidebar-link">11 | 排序（上）：为什么插入排序比冒泡排序更受欢迎？</a></li><li><a href="/ds/article/41913.html" class="sidebar-link">12 | 排序（下）：如何用快排思想在O(n)内查找第K大元素？</a></li><li><a href="/ds/article/42038.html" class="sidebar-link">13 | 线性排序：如何根据年龄给100万用户数据排序？</a></li><li><a href="/ds/article/42359.html" class="sidebar-link">14 | 排序优化：如何实现一个通用的、高性能的排序函数？</a></li><li><a href="/ds/article/42520.html" class="sidebar-link">15 | 二分查找（上）：如何用最省内存的方式实现快速查找功能？</a></li><li><a href="/ds/article/42733.html" class="sidebar-link">16 | 二分查找（下）：如何快速定位IP对应的省份地址？</a></li><li><a href="/ds/article/42896.html" class="sidebar-link">17 | 跳表：为什么Redis一定要用跳表来实现有序集合？</a></li><li><a href="/ds/article/64233.html" class="sidebar-link">18 | 散列表（上）：Word文档中的单词拼写检查功能是如何实现的？</a></li><li><a href="/ds/article/64586.html" class="sidebar-link">19 | 散列表（中）：如何打造一个工业级水平的散列表？</a></li><li><a href="/ds/article/64858.html" class="sidebar-link">20 | 散列表（下）：为什么散列表和链表经常会一起使用？</a></li><li><a href="/ds/article/65312.html" class="sidebar-link">21 | 哈希算法（上）：如何防止数据库中的用户信息被脱库？</a></li><li><a href="/ds/article/67388.html" class="sidebar-link">22 | 哈希算法（下）：哈希算法在分布式系统中有哪些应用？</a></li><li><a href="/ds/article/67856.html" class="sidebar-link">23 | 二叉树基础（上）：什么样的二叉树适合用数组来存储？</a></li><li><a href="/ds/article/68334.html" class="sidebar-link">24 | 二叉树基础（下）：有了如此高效的散列表，为什么还需要二叉树？</a></li><li><a href="/ds/article/68638.html" class="sidebar-link">25 | 红黑树（上）：为什么工程中都用红黑树这种二叉树？</a></li><li><a href="/ds/article/68976.html" class="sidebar-link">26 | 红黑树（下）：掌握这些技巧，你也可以实现一个红黑树</a></li><li><a href="/ds/article/69388.html" class="sidebar-link">27 | 递归树：如何借助树来求解递归算法的时间复杂度？</a></li><li><a href="/ds/article/69607.html" class="sidebar-link">不定期福利第二期 | 王争：羁绊前行的，不是肆虐的狂风，而是内心的迷茫</a></li><li><a href="/ds/article/69913.html" class="sidebar-link">28 | 堆和堆排序：为什么说堆排序没有快速排序快？</a></li><li><a href="/ds/article/70187.html" class="sidebar-link">29 | 堆的应用：如何快速获取到Top 10最热门的搜索关键词？</a></li><li><a href="/ds/article/70537.html" class="sidebar-link">30 | 图的表示：如何存储微博、微信等社交网络中的好友关系？</a></li><li><a href="/ds/article/70891.html" class="sidebar-link">31 | 深度和广度优先搜索：如何找出社交网络中的三度好友关系？</a></li><li><a href="/ds/article/71187.html" class="sidebar-link">32 | 字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？</a></li><li><a href="/ds/article/71525.html" class="sidebar-link">33 | 字符串匹配基础（中）：如何实现文本编辑器中的查找功能？</a></li><li><a href="/ds/article/71845.html" class="sidebar-link">34 | 字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？</a></li><li><a href="/ds/article/72414.html" class="sidebar-link">35 | Trie树：如何实现搜索引擎的搜索关键词提示功能？</a></li><li><a href="/ds/article/72810.html" class="sidebar-link">36 | AC自动机：如何用多模式串匹配实现敏感词过滤功能？</a></li><li><a href="/ds/article/73188.html" class="sidebar-link">37 | 贪心算法：如何用贪心算法实现Huffman压缩编码？</a></li><li><a href="/ds/article/73503.html" class="sidebar-link">38 | 分治算法：谈一谈大规模计算框架MapReduce中的分治思想</a></li><li><a href="/ds/article/73786.html" class="sidebar-link">不定期福利第三期 | 测一测你的算法阶段学习成果</a></li><li><a href="/ds/article/74287.html" class="sidebar-link">39 | 回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想</a></li><li><a href="/ds/article/74788.html" class="sidebar-link">40 | 初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？</a></li><li><a href="/ds/article/75197.html" class="sidebar-link">不定期福利第四期 | 刘超：我是怎么学习《数据结构与算法之美》的？</a></li><li><a href="/ds/article/75702.html" class="sidebar-link">41 | 动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题</a></li><li><a href="/ds/article/75794.html" class="sidebar-link">42 | 动态规划实战：如何实现搜索引擎中的拼写纠错功能？</a></li><li><a href="/ds/article/76207.html" class="sidebar-link">43 | 拓扑排序：如何确定代码源文件的编译依赖关系？</a></li><li><a href="/ds/article/76468.html" class="sidebar-link">44 | 最短路径：地图软件是如何计算出最优出行路径的？</a></li><li><a href="/ds/article/76827.html" class="active sidebar-link">45 | 位图：如何实现网页爬虫中的URL去重功能？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ds/article/76827.html#算法解析" class="sidebar-link">算法解析</a></li><li class="sidebar-sub-header"><a href="/ds/article/76827.html#总结引申" class="sidebar-link">总结引申</a></li><li class="sidebar-sub-header"><a href="/ds/article/76827.html#课后思考" class="sidebar-link">课后思考</a></li></ul></li><li><a href="/ds/article/77142.html" class="sidebar-link">46 | 概率统计：如何利用朴素贝叶斯算法过滤垃圾短信？</a></li><li><a href="/ds/article/77457.html" class="sidebar-link">47 | 向量空间：如何实现一个简单的音乐推荐系统？</a></li><li><a href="/ds/article/77830.html" class="sidebar-link">48 | B+树：MySQL数据库索引是如何实现的？</a></li></ul> </div> <div class="page"> <div class="content"><p>网页爬虫是搜索引擎中的非常重要的系统，负责爬取几十亿、上百亿的网页。爬虫的工作原理是，通过解析已经爬取页面中的网页链接，然后再爬取这些链接对应的网页。而<strong>同一个网页链接有可能被包含在多个页面中，这就会导致爬虫在爬取的过程中，重复爬取相同的网页。如果你是一名负责爬虫的工程师，你会如何避免这些重复的爬取呢？</strong></p> <p>最容易想到的方法就是，我们记录已经爬取的网页链接（也就是URL），在爬取一个新的网页之前，我们拿它的链接，在已经爬取的网页链接列表中搜索。如果存在，那就说明这个网页已经被爬取过了；如果不存在，那就说明这个网页还没有被爬取过，可以继续去爬取。等爬取到这个网页之后，我们将这个网页的链接添加到已经爬取的网页链接列表了。</p> <p>思路非常简单，我想你应该很容易就能想到。不过，我们该如何记录已经爬取的网页链接呢？需要用什么样的数据结构呢？</p> <h2 id="算法解析"><a href="#算法解析" aria-hidden="true" class="header-anchor">#</a> 算法解析</h2> <p>关于这个问题，我们可以先回想下，是否可以用我们之前学过的数据结构来解决呢？</p> <p>这个问题要处理的对象是网页链接，也就是URL，需要支持的操作有两个，添加一个URL和查询一个URL。除了这两个功能性的要求之外，在非功能性方面，我们还要求这两个操作的执行效率要尽可能高。除此之外，因为我们处理的是上亿的网页链接，内存消耗会非常大，所以在存储效率上，我们要尽可能地高效。</p> <p>我们回想一下，满足这些条件的数据结构有哪些呢？显然，散列表、红黑树、跳表这些动态数据结构，都能支持快速地插入、查找数据，但是对内存消耗方面，是否可以接受呢？</p> <p>我们拿散列表来举例。假设我们要爬取10亿个网页（像Google、百度这样的通用搜索引擎，爬取的网页可能会更多），为了判重，我们把这10亿网页链接存储在散列表中。你来估算下，大约需要多少内存？</p> <p>假设一个URL的平均长度是64字节，那单纯存储这10亿个URL，需要大约60GB的内存空间。因为散列表必须维持较小的装载因子，才能保证不会出现过多的散列冲突，导致操作的性能下降。而且，用链表法解决冲突的散列表，还会存储链表指针。所以，如果将这10亿个URL构建成散列表，那需要的内存空间会远大于60GB，有可能会超过100GB。</p> <p>当然，对于一个大型的搜索引擎来说，即便是100GB的内存要求，其实也不算太高，我们可以采用分治的思想，用多台机器（比如20台内存是8GB的机器）来存储这10亿网页链接。这种分治的处理思路，我们讲过很多次了，这里就不详细说了。</p> <p>对于爬虫的URL去重这个问题，刚刚讲到的分治加散列表的思路，已经是可以实实在在工作的了。不过，<strong>作为一个有追求的工程师，我们应该考虑，在添加、查询数据的效率以及内存消耗方面，我们是否还有进一步的优化空间呢？</strong></p> <p>你可能会说，散列表中添加、查找数据的时间复杂度已经是O(1)，还能有进一步优化的空间吗？实际上，我们前面也讲过，时间复杂度并不能完全代表代码的执行时间。大O时间复杂度表示法，会忽略掉常数、系数和低阶，并且统计的对象是语句的频度。不同的语句，执行时间也是不同的。时间复杂度只是表示执行时间随数据规模的变化趋势，并不能度量在特定的数据规模下，代码执行时间的多少。</p> <p>如果时间复杂度中原来的系数是10，我们现在能够通过优化，将系数降为1，那在时间复杂度没有变化的情况下，执行效率就提高了10倍。对于实际的软件开发来说，10倍效率的提升，显然是一个非常值得的优化。</p> <p>如果我们用基于链表的方法解决冲突问题，散列表中存储的是URL，那当查询的时候，通过哈希函数定位到某个链表之后，我们还需要依次比对每个链表中的URL。这个操作是比较耗时的，主要有两点原因。</p> <p>一方面，链表中的结点在内存中不是连续存储的，所以不能一下子加载到CPU缓存中，没法很好地利用到CPU高速缓存，所以数据访问性能方面会打折扣。</p> <p>另一方面，链表中的每个数据都是URL，而URL不是简单的数字，是平均长度为64字节的字符串。也就是说，我们要让待判重的URL，跟链表中的每个URL，做字符串匹配。显然，这样一个字符串匹配操作，比起单纯的数字比对，要慢很多。所以，基于这两点，执行效率方面肯定是有优化空间的。</p> <p>对于内存消耗方面的优化，除了刚刚这种基于散列表的解决方案，貌似没有更好的法子了。实际上，如果要想内存方面有明显的节省，那就得换一种解决方案，也就是我们今天要着重讲的这种存储结构，<strong>布隆过滤器</strong>（Bloom Filter）。</p> <p>在讲布隆过滤器前，我要先讲一下另一种存储结构，<strong>位图</strong>（BitMap）。因为，布隆过滤器本身就是基于位图的，是对位图的一种改进。</p> <p>我们先来看一个跟开篇的问题非常类似，但稍微简单的问题。<strong>我们有1千万个整数，整数的范围在1到1亿之间。如何快速查找某个整数是否在这1千万个整数中呢？</strong></p> <p>当然，这个问题还是可以用散列表来解决。不过，我们可以使用一种比较“特殊”的散列表，那就是位图。我们申请一个大小为1亿、数据类型为布尔类型（true或者false）的数组。我们将这1千万个整数作为数组下标，将对应的数组值设置成true。比如，整数5对应下标为5的数组值设置为true，也就是array[5]=true。</p> <p>当我们查询某个整数K是否在这1千万个整数中的时候，我们只需要将对应的数组值array[K]取出来，看是否等于true。如果等于true，那说明1千万整数中包含这个整数K；相反，就表示不包含这个整数K。</p> <p>不过，很多语言中提供的布尔类型，大小是1个字节的，并不能节省太多内存空间。实际上，表示true和false两个值，我们只需要用一个二进制位（bit）就可以了。<strong>那如何通过编程语言，来表示一个二进制位呢？</strong></p> <p>这里就要用到位运算了。我们可以借助编程语言中提供的数据类型，比如int、long、char等类型，通过位运算，用其中的某个位表示某个数字。文字描述起来有点儿不好理解，我把位图的代码实现写了出来，你可以对照着代码看下，应该就能看懂了。</p> <pre><code>public class BitMap {
  private char[] bytes;
  private int nbits;
  
  public BitMap(int nbits) {
    this.nbits = nbits;
    this.bytes = new char[nbits/8+1];
  }

  public void set(int k) {
    if (k &gt; nbits) return;
    int byteIndex = k / 8;
    int bitIndex = k % 8;
    bytes[byteIndex] |= (1 &lt;&lt; bitIndex);
  }

  public boolean get(int k) {
    if (k &gt; nbits) return false;
    int byteIndex = k / 8;
    int bitIndex = k % 8;
    return (bytes[byteIndex] &amp; (1 &lt;&lt; bitIndex)) != 0;
  }
}!
</code></pre> <p>从刚刚位图结构的讲解中，你应该可以发现，位图通过数组下标来定位数据，所以，访问效率非常高。而且，每个数字用一个二进制位来表示，在数字范围不大的情况下，所需要的内存空间非常节省。</p> <p>比如刚刚那个例子，如果用散列表存储这1千万的数据，数据是32位的整型数，也就是需要4个字节的存储空间，那总共至少需要40MB的存储空间。如果我们通过位图的话，数字范围在1到1亿之间，只需要1亿个二进制位，也就是12MB左右的存储空间就够了。</p> <p>关于位图，我们就讲完了，是不是挺简单的？不过，这里我们有个假设，就是数字所在的范围不是很大。如果数字的范围很大，比如刚刚那个问题，数字范围不是1到1亿，而是1到10亿，那位图的大小就是10亿个二进制位，也就是120MB的大小，消耗的内存空间，不降反增。</p> <p>这个时候，布隆过滤器就要出场了。布隆过滤器就是为了解决刚刚这个问题，对位图这种数据结构的一种改进。</p> <p>还是刚刚那个例子，数据个数是1千万，数据的范围是1到10亿。布隆过滤器的做法是，我们仍然使用一个1亿个二进制大小的位图，然后通过哈希函数，对数字进行处理，让它落在这1到1亿范围内。比如我们把哈希函数设计成f(x)=x%n。其中，x表示数字，n表示位图的大小（1亿），也就是，对数字跟位图的大小进行取模求余。</p> <p>不过，你肯定会说，哈希函数会存在冲突的问题啊，一亿零一和1两个数字，经过你刚刚那个取模求余的哈希函数处理之后，最后的结果都是1。这样我就无法区分，位图存储的是1还是一亿零一了。</p> <p>为了降低这种冲突概率，当然我们可以设计一个复杂点、随机点的哈希函数。除此之外，还有其他方法吗？我们来看布隆过滤器的处理方法。既然一个哈希函数可能会存在冲突，那用多个哈希函数一块儿定位一个数据，是否能降低冲突的概率呢？我来具体解释一下，布隆过滤器是怎么做的。</p> <p>我们使用K个哈希函数，对同一个数字进行求哈希值，那会得到K个不同的哈希值，我们分别记作$X_{1}$，$X_{2}$，$X_{3}$，…，$X_{K}$。我们把这K个数字作为位图中的下标，将对应的BitMap[$X_{1}$]，BitMap[$X_{2}$]，BitMap[$X_{3}$]，…，BitMap[$X_{K}$]都设置成true，也就是说，我们用K个二进制位，来表示一个数字的存在。</p> <p>当我们要查询某个数字是否存在的时候，我们用同样的K个哈希函数，对这个数字求哈希值，分别得到$Y_{1}$，$Y_{2}$，$Y_{3}$，…，$Y_{K}$。我们看这K个哈希值，对应位图中的数值是否都为true，如果都是true，则说明，这个数字存在，如果有其中任意一个不为true，那就说明这个数字不存在。</p> <p><img src="https://static001.geekbang.org/resource/image/94/ae/94630c1c3b7657f560a1825bd9d02cae.jpg" alt></p> <p>对于两个不同的数字来说，经过一个哈希函数处理之后，可能会产生相同的哈希值。但是经过K个哈希函数处理之后，K个哈希值都相同的概率就非常低了。尽管采用K个哈希函数之后，两个数字哈希冲突的概率降低了，但是，这种处理方式又带来了新的问题，那就是容易误判。我们看下面这个例子。</p> <p><img src="https://static001.geekbang.org/resource/image/d0/1a/d0a3326ef0037f64102163209301aa1a.jpg" alt></p> <p>布隆过滤器的误判有一个特点，那就是，它只会对存在的情况有误判。如果某个数字经过布隆过滤器判断不存在，那说明这个数字真的不存在，不会发生误判；如果某个数字经过布隆过滤器判断存在，这个时候才会有可能误判，有可能并不存在。不过，只要我们调整哈希函数的个数、位图大小跟要存储数字的个数之间的比例，那就可以将这种误判的概率降到非常低。</p> <p>尽管布隆过滤器会存在误判，但是，这并不影响它发挥大作用。很多场景对误判有一定的容忍度。比如我们今天要解决的爬虫判重这个问题，即便一个没有被爬取过的网页，被误判为已经被爬取，对于搜索引擎来说，也并不是什么大事情，是可以容忍的，毕竟网页太多了，搜索引擎也不可能100%都爬取到。</p> <p>弄懂了布隆过滤器，我们今天的爬虫网页去重的问题，就很简单了。</p> <p>我们用布隆过滤器来记录已经爬取过的网页链接，假设需要判重的网页有10亿，那我们可以用一个10倍大小的位图来存储，也就是100亿个二进制位，换算成字节，那就是大约1.2GB。之前我们用散列表判重，需要至少100GB的空间。相比来讲，布隆过滤器在存储空间的消耗上，降低了非常多。</p> <p>那我们再来看下，利用布隆过滤器，在执行效率方面，是否比散列表更加高效呢？</p> <p>布隆过滤器用多个哈希函数对同一个网页链接进行处理，CPU只需要将网页链接从内存中读取一次，进行多次哈希计算，理论上讲这组操作是CPU密集型的。而在散列表的处理方式中，需要读取散列冲突拉链的多个网页链接，分别跟待判重的网页链接，进行字符串匹配。这个操作涉及很多内存数据的读取，所以是内存密集型的。我们知道CPU计算可能是要比内存访问更快速的，所以，理论上讲，布隆过滤器的判重方式，更加快速。</p> <h2 id="总结引申"><a href="#总结引申" aria-hidden="true" class="header-anchor">#</a> 总结引申</h2> <p>今天，关于搜索引擎爬虫网页去重问题的解决，我们从散列表讲到位图，再讲到布隆过滤器。布隆过滤器非常适合这种不需要100%准确的、允许存在小概率误判的大规模判重场景。除了爬虫网页去重这个例子，还有比如统计一个大型网站的每天的UV数，也就是每天有多少用户访问了网站，我们就可以使用布隆过滤器，对重复访问的用户，进行去重。</p> <p>我们前面讲到，布隆过滤器的误判率，主要跟哈希函数的个数、位图的大小有关。当我们往布隆过滤器中不停地加入数据之后，位图中不是true的位置就越来越少了，误判率就越来越高了。所以，对于无法事先知道要判重的数据个数的情况，我们需要支持自动扩容的功能。</p> <p>当布隆过滤器中，数据个数与位图大小的比例超过某个阈值的时候，我们就重新申请一个新的位图。后面来的新数据，会被放置到新的位图中。但是，如果我们要判断某个数据是否在布隆过滤器中已经存在，我们就需要查看多个位图，相应的执行效率就降低了一些。</p> <p>位图、布隆过滤器应用如此广泛，很多编程语言都已经实现了。比如Java中的BitSet类就是一个位图，Redis也提供了BitMap位图类，Google的Guava工具包提供了BloomFilter布隆过滤器的实现。如果你感兴趣，你可以自己去研究下这些实现的源码。</p> <h2 id="课后思考"><a href="#课后思考" aria-hidden="true" class="header-anchor">#</a> 课后思考</h2> <ol><li><p>假设我们有1亿个整数，数据范围是从1到10亿，如何快速并且省内存地给这1亿个数据从小到大排序？</p></li> <li><p>还记得我们在<a href="https://time.geekbang.org/column/article/67388" target="_blank" rel="noopener noreferrer">哈希函数（下）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>讲过的利用分治思想，用散列表以及哈希函数，实现海量图库中的判重功能吗？如果我们允许小概率的误判，那是否可以用今天的布隆过滤器来解决呢？你可以参照我们当时的估算方法，重新估算下，用布隆过滤器需要多少台机器？</p></li></ol> <p>欢迎留言和我分享，也欢迎点击“请朋友读”，把今天的内容分享给你的好友，和他一起讨论、学习。</p> <p><img src="https://static001.geekbang.org/resource/image/8e/d3/8e603e3d795fc0ab2698f6f5eabf14d3.jpg" alt></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/ds/article/76468.html" class="prev">
          44 | 最短路径：地图软件是如何计算出最优出行路径的？
        </a></span> <span class="next"><a href="/ds/article/77142.html">
          46 | 概率统计：如何利用朴素贝叶斯算法过滤垃圾短信？
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/ds/assets/js/app.c5f0fffe.js" defer></script><script src="/ds/assets/js/54.34582ef6.js" defer></script>
  </body>
</html>
